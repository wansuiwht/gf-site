"use strict";(self.webpackChunkgfdoc=self.webpackChunkgfdoc||[]).push([[94812],{599551:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"WEB\u670d\u52a1\u5f00\u53d1/\u670d\u52a1\u914d\u7f6e","title":"\u670d\u52a1\u914d\u7f6e","description":"GF \u6846\u67b6\u7684 WebServer \u914d\u7f6e\u7ba1\u7406\u975e\u5e38\u65b9\u4fbf\uff0c\u652f\u6301\u591a\u79cd\u914d\u7f6e\u65b9\u5f0f\u4ee5\u53ca\u82e5\u5e72\u914d\u7f6e\u65b9\u6cd5\u3002","source":"@site/versioned_docs/version-1.16.x/WEB\u670d\u52a1\u5f00\u53d1/\u670d\u52a1\u914d\u7f6e.md","sourceDirName":"WEB\u670d\u52a1\u5f00\u53d1","slug":"/WEB\u670d\u52a1\u5f00\u53d1/\u670d\u52a1\u914d\u7f6e","permalink":"/1.16.x/WEB\u670d\u52a1\u5f00\u53d1/\u670d\u52a1\u914d\u7f6e","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-1.16.x/WEB\u670d\u52a1\u5f00\u53d1/\u670d\u52a1\u914d\u7f6e.md","tags":[],"version":"1.16.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":6,"frontMatter":{"title":"\u670d\u52a1\u914d\u7f6e","sidebar_position":6,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"Session-Redis\u5b58\u50a8","permalink":"/1.16.x/WEB\u670d\u52a1\u5f00\u53d1/Session/Session-Redis\u5b58\u50a8"},"next":{"title":"\u5f02\u5e38\u5904\u7406","permalink":"/1.16.x/WEB\u670d\u52a1\u5f00\u53d1/\u5f02\u5e38\u5904\u7406"}}');var o=r(474848),i=r(28453);const d={title:"\u670d\u52a1\u914d\u7f6e",sidebar_position:6,hide_title:!0},t=void 0,l={},c=[{value:"\u914d\u7f6e\u5bf9\u8c61",id:"\u914d\u7f6e\u5bf9\u8c61",level:2},{value:"\u914d\u7f6e\u7ba1\u7406\u65b9\u6cd5",id:"\u914d\u7f6e\u7ba1\u7406\u65b9\u6cd5",level:3},{value:"<code>SetConfigWithMap</code> \u65b9\u6cd5",id:"setconfigwithmap-\u65b9\u6cd5",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:2},{value:"\u793a\u4f8b1\uff0c\u9ed8\u8ba4\u914d\u7f6e\u9879",id:"\u793a\u4f8b1\u9ed8\u8ba4\u914d\u7f6e\u9879",level:3},{value:"\u793a\u4f8b2\uff0c\u591a\u4e2a\u914d\u7f6e\u9879",id:"\u793a\u4f8b2\u591a\u4e2a\u914d\u7f6e\u9879",level:3},{value:"\u793a\u4f8b3\uff0c\u8f83\u5b8c\u6574\u793a\u4f8b",id:"\u793a\u4f8b3\u8f83\u5b8c\u6574\u793a\u4f8b",level:3},{value:"\u4e0a\u4f20\u9650\u5236",id:"\u4e0a\u4f20\u9650\u5236",level:3},{value:"\u914d\u7f6e\u793a\u4f8b",id:"\u914d\u7f6e\u793a\u4f8b",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"GF"})," \u6846\u67b6\u7684 ",(0,o.jsx)(n.code,{children:"WebServer"})," \u914d\u7f6e\u7ba1\u7406\u975e\u5e38\u65b9\u4fbf\uff0c\u652f\u6301\u591a\u79cd\u914d\u7f6e\u65b9\u5f0f\u4ee5\u53ca\u82e5\u5e72\u914d\u7f6e\u65b9\u6cd5\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e\u5bf9\u8c61",children:"\u914d\u7f6e\u5bf9\u8c61"}),"\n",(0,o.jsxs)(n.p,{children:["\u914d\u7f6e\u5bf9\u8c61\u5b9a\u4e49\uff1a ",(0,o.jsx)(n.a,{href:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig",children:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig"})]}),"\n",(0,o.jsx)(n.h3,{id:"\u914d\u7f6e\u7ba1\u7406\u65b9\u6cd5",children:"\u914d\u7f6e\u7ba1\u7406\u65b9\u6cd5"}),"\n",(0,o.jsxs)(n.p,{children:["\u65b9\u6cd5\u5217\u8868\uff1a ",(0,o.jsx)(n.a,{href:"https://godoc.org/github.com/gogf/gf/net/ghttp#Server",children:"https://godoc.org/github.com/gogf/gf/net/ghttp#Server"})]}),"\n",(0,o.jsx)(n.p,{children:"\u7b80\u8981\u8bf4\u660e\uff1a"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u53ef\u4ee5\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"SetConfig"})," \u53ca ",(0,o.jsx)(n.code,{children:"SetConfigWithMap"})," \u6765\u8bbe\u7f6e\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"Server"})," \u5bf9\u8c61\u7684 ",(0,o.jsx)(n.code,{children:"Set*/Enable*"})," \u65b9\u6cd5\u8fdb\u884c\u7279\u5b9a\u914d\u7f6e\u7684\u8bbe\u7f6e\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:["\u4e3b\u8981\u6ce8\u610f\u7684\u662f\uff0c\u914d\u7f6e\u9879\u5728 ",(0,o.jsx)(n.code,{children:"Server"})," \u6267\u884c ",(0,o.jsx)(n.code,{children:"Start"})," \u4e4b\u540e\u4fbf\u4e0d\u80fd\u518d\u4fee\u6539\uff0c\u9632\u6b62\u4ea7\u751f\u5e76\u53d1\u5b89\u5168\u95ee\u9898\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.h3,{id:"setconfigwithmap-\u65b9\u6cd5",children:[(0,o.jsx)(n.code,{children:"SetConfigWithMap"})," \u65b9\u6cd5"]}),"\n",(0,o.jsxs)(n.p,{children:["\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"SetConfigWithMap"})," \u65b9\u6cd5\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"Key-Value"})," \u952e\u503c\u5bf9\u6765\u8bbe\u7f6e/\u4fee\u6539 ",(0,o.jsx)(n.code,{children:"Server"})," \u7684\u7279\u5b9a\u914d\u7f6e\uff0c\u5176\u4f59\u7684\u914d\u7f6e\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u5373\u53ef\u3002\u5176\u4e2d ",(0,o.jsx)(n.code,{children:"Key"})," \u7684\u540d\u79f0\u5373\u662f ",(0,o.jsx)(n.code,{children:"ServerConfig"})," \u8fd9\u4e2a ",(0,o.jsx)(n.code,{children:"struct"})," \u4e2d\u7684\u5c5e\u6027\u540d\u79f0\uff0c\u5e76\u4e14\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5355\u8bcd\u95f4\u4e5f\u652f\u6301\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"-"}),"/ ",(0,o.jsx)(n.code,{children:"_"}),"/ ",(0,o.jsx)(n.code,{children:"\u7a7a\u683c"})," \u7b26\u53f7\u8fde\u63a5\uff0c\u5177\u4f53\u53ef\u53c2\u8003 ",(0,o.jsx)(n.a,{href:"/1.16.x/%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6-%E9%87%8D%E7%82%B9/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-Struct%E8%BD%AC%E6%8D%A2",children:"\u7c7b\u578b\u8f6c\u6362-Struct\u8f6c\u6362"})," \u7ae0\u8282\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u7b80\u5355\u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'s := g.Server()\ns.SetConfigWithMap(g.Map{\n    "Address":    ":80",\n    "ServerRoot": "/var/www/MyServerRoot",\n})\ns.Run()\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u5176\u4e2d ",(0,o.jsx)(n.code,{children:"ServerRoot"})," \u7684\u952e\u540d\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"serverRoot"}),", ",(0,o.jsx)(n.code,{children:"server-root"}),", ",(0,o.jsx)(n.code,{children:"server_root"}),", ",(0,o.jsx)(n.code,{children:"server root"}),"\uff0c\u5176\u4ed6\u914d\u7f6e\u5c5e\u6027\u4ee5\u6b64\u7c7b\u63a8\u3002"]}),"\n",(0,o.jsx)(n.p,{children:"\u4e00\u4e2a\u6bd4\u8f83\u5b8c\u6574\u7684\u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'s := g.Server()\ns.SetConfigWithMap(g.Map{\n    "address":          ":80",\n    "serverRoot":       "/var/www/Server",\n    "indexFiles":       g.Slice{"index.html", "main.html"},\n    "accessLogEnabled": true,\n    "errorLogEnabled":  true,\n    "pprofEnabled":     true,\n    "logPath":          "/var/log/ServerLog",\n    "sessionIdName":    "MySessionId",\n    "sessionPath":      "/tmp/MySessionStoragePath",\n    "sessionMaxAge":    24 * time.Hour,\n    "dumpRouterMap":    false,\n})\ns.Run()\n\n'})}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Server"})," \u5bf9\u8c61\u4e5f\u652f\u6301\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u4fbf\u6377\u7684\u914d\u7f6e\u3002\u652f\u6301\u7684\u914d\u7f6e\u9009\u9879\u4ee5\u53ca\u914d\u7f6e\u8bf4\u660e\u8bf7\u67e5\u770b\u63a5\u53e3\u6587\u6863\u8bf4\u660e\uff0c\u6587\u6863\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\uff0c\u4ee5\u4e0b\u7ae0\u8282\u4e0d\u4f1a\u5bf9\u914d\u7f6e\u9009\u9879\u4f5c\u4ecb\u7ecd\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u5f53\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"g.Server(\u5355\u4f8b\u540d\u79f0)"})," \u83b7\u53d6 ",(0,o.jsx)(n.code,{children:"Server"})," \u5355\u4f8b\u5bf9\u8c61\u65f6\uff0c\u5c06\u4f1a\u81ea\u52a8\u901a\u8fc7\u9ed8\u8ba4\u7684\u914d\u7f6e\u7ba1\u7406\u5bf9\u8c61\u83b7\u53d6\u5bf9\u5e94\u7684 ",(0,o.jsx)(n.code,{children:"Server"})," \u914d\u7f6e\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f1a\u8bfb\u53d6 ",(0,o.jsx)(n.code,{children:"server.\u5355\u4f8b\u540d\u79f0"})," \u914d\u7f6e\u9879\uff0c\u5f53\u8be5\u914d\u7f6e\u9879\u4e0d\u5b58\u5728\u65f6\uff0c\u5c06\u4f1a\u8bfb\u53d6 ",(0,o.jsx)(n.code,{children:"server"})," \u914d\u7f6e\u9879\u3002"]}),"\n",(0,o.jsxs)(n.p,{children:["\u652f\u6301\u7684\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u9879\u8bf7\u53c2\u8003 ",(0,o.jsx)(n.code,{children:"Server"})," \u914d\u7f6e\u7ba1\u7406\u5bf9\u8c61\u5c5e\u6027\uff1a ",(0,o.jsx)(n.a,{href:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig",children:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig"})]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b1\u9ed8\u8ba4\u914d\u7f6e\u9879",children:"\u793a\u4f8b1\uff0c\u9ed8\u8ba4\u914d\u7f6e\u9879"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    address    = ":80"\n    serverRoot = "/var/www/Server"\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u968f\u540e\u53ef\u4ee5\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"g.Server()"})," \u83b7\u53d6\u9ed8\u8ba4\u7684\u5355\u4f8b\u5bf9\u8c61\u65f6\u81ea\u52a8\u83b7\u53d6\u5e76\u8bbe\u7f6e\u8be5\u914d\u7f6e\u3002"]}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b2\u591a\u4e2a\u914d\u7f6e\u9879",children:"\u793a\u4f8b2\uff0c\u591a\u4e2a\u914d\u7f6e\u9879"}),"\n",(0,o.jsxs)(n.p,{children:["\u591a\u4e2a ",(0,o.jsx)(n.code,{children:"Server"})," \u7684\u914d\u7f6e\u793a\u4f8b\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    address    = ":80"\n    serverRoot = "/var/www/Server"\n    [server.server1]\n        address    = ":8080"\n        serverRoot = "/var/www/Server1"\n    [server.server2]\n        address    = ":8088"\n        serverRoot = "/var/www/Server2"\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5355\u4f8b\u5bf9\u8c61\u540d\u79f0\u83b7\u53d6\u5bf9\u5e94\u914d\u7f6e\u7684 ",(0,o.jsx)(n.code,{children:"Server"})," \u5355\u4f8b\u5bf9\u8c61\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'// \u5bf9\u5e94 server.server1 \u914d\u7f6e\u9879\ns1 := g.Server("server1")\n// \u5bf9\u5e94 server.server2 \u914d\u7f6e\u9879\ns2 := g.Server("server2")\n// \u5bf9\u5e94\u9ed8\u8ba4\u914d\u7f6e\u9879 server\ns3 := g.Server("none")\n// \u5bf9\u5e94\u9ed8\u8ba4\u914d\u7f6e\u9879 server\ns4 := g.Server()\n\n'})}),"\n",(0,o.jsx)(n.h3,{id:"\u793a\u4f8b3\u8f83\u5b8c\u6574\u793a\u4f8b",children:"\u793a\u4f8b3\uff0c\u8f83\u5b8c\u6574\u793a\u4f8b"}),"\n",(0,o.jsx)(n.p,{children:"\u6bd4\u5982\u4e0a\u4e00\u4e2a\u7ae0\u8282\u7684\u793a\u4f8b\uff0c\u5bf9\u5e94\u7684\u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    address          = ":8199"\n    serverRoot       = "/var/www/Server"\n    indexFiles       = ["index.html", "main.html"]\n    accessLogEnabled = true\n    errorLogEnabled  = true\n    pprofEnabled     = true\n    logPath          = "/var/log/ServerLog"\n    sessionIdName    = "MySessionId"\n    sessionPath      = "/tmp/MySessionStoragePath"\n    sessionMaxAge    = "24h"\n    dumpRouterMap    = false\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u540c\u7406\uff0c\u914d\u7f6e\u5c5e\u6027\u9879\u7684\u540d\u79f0\u4e5f\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff0c\u5355\u8bcd\u95f4\u4e5f\u652f\u6301\u4f7f\u7528 ",(0,o.jsx)(n.code,{children:"-"}),"/ ",(0,o.jsx)(n.code,{children:"_"})," \u7b26\u53f7\u8fde\u63a5\u3002\u4e5f\u5c31\u662f\u8bf4\u4ee5\u4e0b\u914d\u7f6e\u6587\u4ef6\u6548\u679c\u548c\u4e0a\u9762\u7684\u914d\u7f6e\u6587\u4ef6\u4e00\u81f4\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    address          = ":8199"\n    serverRoot       = "/var/www/Server"\n    indexFiles       = ["index.html", "main.html"]\n    accessLogEnabled = true\n    errorLogEnabled  = true\n    pprofEnabled     = true\n    log-path         = "/var/log/ServerLog"\n    session_Id_Name  = "MySessionId"\n    Session-path     = "/tmp/MySessionStoragePath"\n    session_MaxAge   = "24h"\n    DumpRouterMap    = false\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u6211\u4eec\u63a8\u8350\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u914d\u7f6e\u9879\u540d\u79f0\u7edf\u4e00\u4f7f\u7528\u5c0f\u9a7c\u5cf0\u7684\u683c\u5f0f\u3002"}),"\n",(0,o.jsx)(n.h3,{id:"\u4e0a\u4f20\u9650\u5236",children:"\u4e0a\u4f20\u9650\u5236"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Server"})," \u5bf9\u4e8e\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684\u6570\u636e\u662f\u6709\u5927\u5c0f\u9650\u5236\u7684\uff0c\u4e3b\u8981\u6709\u4e24\u4e2a\u914d\u7f6e\u53c2\u6570\u63a7\u5236\uff1a"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"MaxHeaderBytes"}),"\uff1a\u8bf7\u6c42\u5934\u5927\u5c0f\u9650\u5236\uff0c\u8bf7\u6c42\u5934\u5305\u62ec\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684 ",(0,o.jsx)(n.code,{children:"Cookie"})," \u6570\u636e\uff0c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a ",(0,o.jsx)(n.code,{children:"10KB"}),"\u3002"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"ClientMaxBodySize"}),"\uff1a\u5ba2\u6237\u7aef\u63d0\u4ea4\u7684 ",(0,o.jsx)(n.code,{children:"Body"})," \u5927\u5c0f\u9650\u5236\uff0c\u540c\u65f6\u4e5f\u5f71\u54cd\u6587\u4ef6\u4e0a\u4f20\u5927\u5c0f\uff0c\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a ",(0,o.jsx)(n.code,{children:"8MB"}),"\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["\u7531\u4e8e\u5b89\u5168\u6027\u7684\u8003\u8651\uff0c\u9ed8\u8ba4\u7684\u4e0a\u4f20\u9650\u5236\u90fd\u4e0d\u662f\u5f88\u9ad8\uff0c\u7279\u522b\u662f ",(0,o.jsx)(n.code,{children:"ClientMaxBodySize"})," \u7684\u5927\u5c0f\u9650\u5236\uff0c\u5728\u9700\u8981\u6587\u4ef6\u4e0a\u4f20\u7684\u573a\u666f\u53ef\u9002\u5f53\u8003\u8651\u8c03\u6574\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u914d\u7f6e\u5373\u53ef\uff0c\u4f8b\u5982\uff1a"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    maxHeaderBytes    = "20KB"\n    clientMaxBodySize = "200MB"\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["\u8fd9\u6837\u4fbf\u4fee\u6539\u8bf7\u6c42\u5934\u5927\u5c0f\u9650\u5236\u4e3a ",(0,o.jsx)(n.code,{children:"20KB"}),"\uff0c\u6587\u4ef6\u4e0a\u4f20\u5927\u5c0f\u9650\u5236\u4e3a ",(0,o.jsx)(n.code,{children:"200MB"}),"\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u914d\u7f6e\u793a\u4f8b",children:"\u914d\u7f6e\u793a\u4f8b"}),"\n",(0,o.jsxs)(n.p,{children:["\u6240\u6709\u7684\u914d\u7f6e\u9879\u8bf7\u53c2\u8003 ",(0,o.jsx)(n.code,{children:"ServerConfig"})," \u5bf9\u8c61\u5c5e\u6027\uff1a ",(0,o.jsx)(n.a,{href:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig",children:"https://godoc.org/github.com/gogf/gf/net/ghttp#ServerConfig"})]}),"\n",(0,o.jsx)(n.p,{children:"\u4ee5\u4e0b\u4e3a\u914d\u7f6e\u793a\u4f8b\u6587\u4ef6\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[server]\n    # \u57fa\u672c\u914d\u7f6e\n    address             = ":80"                        # \u672c\u5730\u76d1\u542c\u5730\u5740\u3002\u9ed8\u8ba4":80"\n    httpsAddr           = ":443"                       # TLS/HTTPS\u914d\u7f6e\uff0c\u540c\u65f6\u9700\u8981\u914d\u7f6e\u8bc1\u4e66\u548c\u5bc6\u94a5\u3002\u9ed8\u8ba4\u5173\u95ed\n    httpsCertPath       = ""                           # TLS/HTTPS\u8bc1\u4e66\u6587\u4ef6\u672c\u5730\u8def\u5f84\uff0c\u5efa\u8bae\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002\u9ed8\u8ba4\u5173\u95ed\n    httpsKeyPath        = ""                           # TLS/HTTPS\u5bc6\u94a5\u6587\u4ef6\u672c\u5730\u8def\u5f84\uff0c\u5efa\u8bae\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002\u9ed8\u8ba4\u5173\u95ed\n    readTimeout         = "60s"                        # \u8bf7\u6c42\u8bfb\u53d6\u8d85\u65f6\u65f6\u95f4\uff0c\u4e00\u822c\u4e0d\u9700\u8981\u914d\u7f6e\u3002\u9ed8\u8ba4\u4e3a60\u79d2\n    writeTimeout        = "0"                          # \u6570\u636e\u8fd4\u56de\u5199\u5165\u8d85\u65f6\u65f6\u95f4\uff0c\u4e00\u822c\u4e0d\u9700\u8981\u914d\u7f6e\u3002\u9ed8\u8ba4\u4e0d\u8d85\u65f6\uff080\uff09\n    idleTimeout         = "60s"                        # \u4ec5\u5f53Keep-Alive\u5f00\u542f\u65f6\u6709\u6548\uff0c\u8bf7\u6c42\u95f2\u7f6e\u65f6\u95f4\u3002\u9ed8\u8ba4\u4e3a60\u79d2\n    maxHeaderBytes      = "10240"                      # \u8bf7\u6c42Header\u5927\u5c0f\u9650\u5236\uff08Byte\uff09\u3002\u9ed8\u8ba4\u4e3a10KB\n    keepAlive           = true                         # \u662f\u5426\u5f00\u542fKeep-Alive\u529f\u80fd\u3002\u9ed8\u8ba4true\n    serverAgent         = "GF HTTP Server"             # \u670d\u52a1\u7aefAgent\u4fe1\u606f\u3002\u9ed8\u8ba4\u4e3a"GF HTTP Server"\n\n    # \u9759\u6001\u670d\u52a1\u914d\u7f6e\n    indexFiles          = ["index.html","index.htm"]   # \u81ea\u52a8\u9996\u9875\u9759\u6001\u6587\u4ef6\u68c0\u7d22\u3002\u9ed8\u8ba4\u4e3a["index.html", "index.htm"]\n    indexFolder         = false                        # \u5f53\u8bbf\u95ee\u9759\u6001\u6587\u4ef6\u76ee\u5f55\u65f6\uff0c\u662f\u5426\u5c55\u793a\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u5217\u8868\u3002\u9ed8\u8ba4\u5173\u95ed\uff0c\u90a3\u4e48\u8bf7\u6c42\u5c06\u8fd4\u56de403\n    serverRoot          = "/var/www"                   # \u9759\u6001\u6587\u4ef6\u670d\u52a1\u7684\u76ee\u5f55\u6839\u8def\u5f84\uff0c\u914d\u7f6e\u65f6\u81ea\u52a8\u5f00\u542f\u9759\u6001\u6587\u4ef6\u670d\u52a1\u3002\u9ed8\u8ba4\u5173\u95ed\n    searchPaths         = ["/home/www","/var/lib/www"] # \u63d0\u4f9b\u9759\u6001\u6587\u4ef6\u670d\u52a1\u65f6\u989d\u5916\u7684\u6587\u4ef6\u641c\u7d22\u8def\u5f84\uff0c\u5f53\u6839\u8def\u5f84\u627e\u4e0d\u5230\u65f6\u5219\u6309\u7167\u987a\u5e8f\u5728\u641c\u7d22\u76ee\u5f55\u67e5\u627e\u3002\u9ed8\u8ba4\u5173\u95ed\n    fileServerEnabled   = false                        # \u9759\u6001\u6587\u4ef6\u670d\u52a1\u603b\u5f00\u5173\u3002\u9ed8\u8ba4false\n\n    # Cookie\u914d\u7f6e\n    cookieMaxAge        = "365d"             # Cookie\u6709\u6548\u671f\u3002\u9ed8\u8ba4\u4e3a365\u5929\n    cookiePath          = "/"                # Cookie\u6709\u6548\u8def\u5f84\u3002\u9ed8\u8ba4\u4e3a"/"\u8868\u793a\u5168\u7ad9\u6240\u6709\u8def\u5f84\u4e0b\u6709\u6548\n    cookieDomain        = ""                 # Cookie\u6709\u6548\u57df\u540d\u3002\u9ed8\u8ba4\u4e3a\u5f53\u524d\u914d\u7f6eCookie\u65f6\u7684\u57df\u540d\n\n    # Sessions\u914d\u7f6e\n    sessionMaxAge       = "24h"              # Session\u6709\u6548\u671f\u3002\u9ed8\u8ba4\u4e3a24\u5c0f\u65f6\n    sessionIdName       = "gfsessionid"      # SessionId\u7684\u952e\u540d\u540d\u79f0\u3002\u9ed8\u8ba4\u4e3agfsessionid\n    sessionCookieOutput = true               # Session\u7279\u6027\u5f00\u542f\u65f6\uff0c\u662f\u5426\u5c06SessionId\u8fd4\u56de\u5230Cookie\u4e2d\u3002\u9ed8\u8ba4true\n    sessionPath         = "/tmp/gsessions"   # Session\u5b58\u50a8\u7684\u6587\u4ef6\u76ee\u5f55\u8def\u5f84\u3002\u9ed8\u8ba4\u4e3a\u5f53\u524d\u7cfb\u7edf\u4e34\u65f6\u76ee\u5f55\u4e0b\u7684gsessions\u76ee\u5f55\n\n    # Logging\u914d\u7f6e\n    logPath             = ""                 # \u65e5\u5fd7\u6587\u4ef6\u5b58\u50a8\u76ee\u5f55\u8def\u5f84\uff0c\u5efa\u8bae\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u3002\u9ed8\u8ba4\u4e3a\u7a7a\uff0c\u8868\u793a\u5173\u95ed\n    logStdout           = true               # \u65e5\u5fd7\u662f\u5426\u8f93\u51fa\u5230\u7ec8\u7aef\u3002\u9ed8\u8ba4\u4e3atrue\n    errorStack          = true               # \u5f53Server\u6355\u83b7\u5230\u5f02\u5e38\u65f6\u662f\u5426\u8bb0\u5f55\u5806\u6808\u4fe1\u606f\u5230\u65e5\u5fd7\u4e2d\u3002\u9ed8\u8ba4\u4e3atrue\n    errorLogEnabled     = true               # \u662f\u5426\u8bb0\u5f55\u5f02\u5e38\u65e5\u5fd7\u4fe1\u606f\u5230\u65e5\u5fd7\u4e2d\u3002\u9ed8\u8ba4\u4e3atrue\n    errorLogPattern     = "error-{Ymd}.log"  # \u5f02\u5e38\u9519\u8bef\u65e5\u5fd7\u6587\u4ef6\u683c\u5f0f\u3002\u9ed8\u8ba4\u4e3a"error-{Ymd}.log"\n    accessLogEnabled    = false              # \u662f\u5426\u8bb0\u5f55\u8bbf\u95ee\u65e5\u5fd7\u3002\u9ed8\u8ba4\u4e3afalse\n    accessLogPattern    = "access-{Ymd}.log" # \u8bbf\u95ee\u65e5\u5fd7\u6587\u4ef6\u683c\u5f0f\u3002\u9ed8\u8ba4\u4e3a"access-{Ymd}.log"\n\n    # PProf\u914d\u7f6e\n    pprofEnabled        = false              # \u662f\u5426\u5f00\u542fPProf\u6027\u80fd\u8c03\u8bd5\u7279\u6027\u3002\u9ed8\u8ba4\u4e3afalse\n    pprofPattern        = ""                 # \u5f00\u542fPProf\u65f6\u6709\u6548\uff0c\u8868\u793aPProf\u7279\u6027\u7684\u9875\u9762\u8bbf\u95ee\u8def\u5f84\uff0c\u5bf9\u5f53\u524dServer\u7ed1\u5b9a\u7684\u6240\u6709\u57df\u540d\u6709\u6548\u3002\n\n    # \u5176\u4ed6\u914d\u7f6e\n    clientMaxBodySize   = 810241024          # \u5ba2\u6237\u7aef\u6700\u5927Body\u4e0a\u4f20\u9650\u5236\u5927\u5c0f\uff0c\u5f71\u54cd\u6587\u4ef6\u4e0a\u4f20\u5927\u5c0f(Byte)\u3002\u9ed8\u8ba4\u4e3a8*1024*1024=8MB\n    formParsingMemory   = 1048576            # \u89e3\u6790\u8868\u5355\u65f6\u7684\u7f13\u51b2\u533a\u5927\u5c0f(Byte)\uff0c\u4e00\u822c\u4e0d\u9700\u8981\u914d\u7f6e\u3002\u9ed8\u8ba4\u4e3a1024*1024=1MB\n    nameToUriType       = 0                  # \u8def\u7531\u6ce8\u518c\u4e2d\u4f7f\u7528\u5bf9\u8c61\u6ce8\u518c\u65f6\u7684\u8def\u7531\u751f\u6210\u89c4\u5219\u3002\u9ed8\u8ba4\u4e3a0\n    routeOverWrite      = false              # \u5f53\u9047\u5230\u91cd\u590d\u8def\u7531\u6ce8\u518c\u65f6\u662f\u5426\u5f3a\u5236\u8986\u76d6\u3002\u9ed8\u8ba4\u4e3afalse\uff0c\u91cd\u590d\u8def\u7531\u5b58\u5728\u65f6\u5c06\u4f1a\u5728\u542f\u52a8\u65f6\u62a5\u9519\u9000\u51fa\n    dumpRouterMap       = true               # \u662f\u5426\u5728Server\u542f\u52a8\u65f6\u6253\u5370\u6240\u6709\u7684\u8def\u7531\u5217\u8868\u3002\u9ed8\u8ba4\u4e3atrue\n    graceful            = false              # \u662f\u5426\u5f00\u542f\u5e73\u6ed1\u91cd\u542f\u7279\u6027\uff0c\u5f00\u542f\u65f6\u5c06\u4f1a\u5728\u672c\u5730\u589e\u52a010000\u7684\u672c\u5730TCP\u7aef\u53e3\u7528\u4e8e\u8fdb\u7a0b\u95f4\u901a\u4fe1\u3002\u9ed8\u8ba4false\n    gracefulTimeout     = 2                  # \u7236\u8fdb\u7a0b\u5728\u5e73\u6ed1\u91cd\u542f\u540e\u591a\u5c11\u79d2\u9000\u51fa\uff0c\u9ed8\u8ba42\u79d2\u3002\u82e5\u8bf7\u6c42\u8017\u65f6\u5927\u4e8e\u8be5\u503c\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bf7\u6c42\u4e2d\u65ad\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>t});var s=r(296540);const o={},i=s.createContext(o);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);