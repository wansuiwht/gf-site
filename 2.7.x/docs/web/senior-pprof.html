<!doctype html><html lang=zh-Hans dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-2.7.x docs-doc-page docs-doc-id-docs/WEBæœåŠ¡å¼€å‘/é«˜çº§ç‰¹æ€§/PProfæœåŠ¡æ€§èƒ½åˆ†æ" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>PProfæœåŠ¡æ€§èƒ½åˆ†æ | GoFrameå®˜ç½‘ - ç±»ä¼¼PHP-Laravel,Java-SpringBootçš„Goä¼ä¸šçº§å¼€å‘æ¡†æ¶</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://goframe.org/2.7.x/docs/web/senior-pprof><meta data-rh=true property=og:locale content=zh_Hans><meta data-rh=true property=og:locale:alternate content=en_US><meta data-rh=true name=docusaurus_locale content=zh-Hans><meta data-rh=true name=docsearch:language content=zh-Hans><meta data-rh=true name=docusaurus_version content=2.7.x><meta data-rh=true name=docusaurus_tag content=docs-default-2.7.x><meta data-rh=true name=docsearch:version content=2.7.x><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-2.7.x><meta data-rh=true property=og:title content="PProfæœåŠ¡æ€§èƒ½åˆ†æ | GoFrameå®˜ç½‘ - ç±»ä¼¼PHP-Laravel,Java-SpringBootçš„Goä¼ä¸šçº§å¼€å‘æ¡†æ¶"><meta data-rh=true name=description content="åœ¨ä½¿ç”¨GoFrameæ¡†æ¶æ­å»ºçš„Web Serverä¸­åˆ©ç”¨pprofå·¥å…·è¿›è¡Œæ€§èƒ½åˆ†æã€‚GoFrameæ¡†æ¶é›†æˆäº†pprofï¼Œå¯ä»¥å€ŸåŠ©EnablePProfæ–¹æ³•ä¾¿æ·å¼€å¯æ€§èƒ½åˆ†æåŠŸèƒ½ï¼Œå¹¶æ¢è®¨äº†å¦‚ä½•è®¾ç½®ç‹¬ç«‹çš„PProf Serverï¼Œä»¥æœ‰æ•ˆç›‘æ§å†…å­˜ä½¿ç”¨ã€goroutineè¡Œä¸ºåŠCPUæ€§èƒ½ç­‰å…³é”®æŒ‡æ ‡ï¼ŒåŒæ—¶æä¾›å…·ä½“å‘½ä»¤è¡Œç¤ºä¾‹ä¸è§£æã€‚"><meta data-rh=true property=og:description content="åœ¨ä½¿ç”¨GoFrameæ¡†æ¶æ­å»ºçš„Web Serverä¸­åˆ©ç”¨pprofå·¥å…·è¿›è¡Œæ€§èƒ½åˆ†æã€‚GoFrameæ¡†æ¶é›†æˆäº†pprofï¼Œå¯ä»¥å€ŸåŠ©EnablePProfæ–¹æ³•ä¾¿æ·å¼€å¯æ€§èƒ½åˆ†æåŠŸèƒ½ï¼Œå¹¶æ¢è®¨äº†å¦‚ä½•è®¾ç½®ç‹¬ç«‹çš„PProf Serverï¼Œä»¥æœ‰æ•ˆç›‘æ§å†…å­˜ä½¿ç”¨ã€goroutineè¡Œä¸ºåŠCPUæ€§èƒ½ç­‰å…³é”®æŒ‡æ ‡ï¼ŒåŒæ—¶æä¾›å…·ä½“å‘½ä»¤è¡Œç¤ºä¾‹ä¸è§£æã€‚"><meta data-rh=true name=keywords content="GoFrame,PProf,æ€§èƒ½åˆ†æ,Web Server,pprofå·¥å…·,EnablePProf,PProf Server,GoFrameæ¡†æ¶,æ€§èƒ½ä¼˜åŒ–,Goå·¥å…·"><link data-rh=true rel=icon href=/img/favicon.ico><link data-rh=true rel=canonical href=https://goframe.org/2.7.x/docs/web/senior-pprof><link data-rh=true rel=alternate href=https://goframe.org/2.7.x/docs/web/senior-pprof hreflang=zh-Hans><link data-rh=true rel=alternate href=https://goframe.org/en/2.7.x/docs/web/senior-pprof hreflang=en-US><link data-rh=true rel=alternate href=https://goframe.org/2.7.x/docs/web/senior-pprof hreflang=x-default><link data-rh=true rel=preconnect href=https://ZQUL8VI47R-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="GoFrameå®˜ç½‘ - ç±»ä¼¼PHP-Laravel,Java-SpringBootçš„Goä¼ä¸šçº§å¼€å‘æ¡†æ¶" href=/opensearch.xml><script src=https://hm.baidu.com/hm.js?38f38a0626fd7805722db06243cd0fa7 async></script><script src=/ad.js async></script><link rel=stylesheet href=/assets/css/styles.da1b5528.css><script src=/assets/js/main.1a215821.js defer></script><script src=/assets/js/runtime~main.52db41eb.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label=è·³åˆ°ä¸»è¦å†…å®¹><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label=ä¸»å¯¼èˆª class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label=åˆ‡æ¢å¯¼èˆªæ  aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/><div class=navbar__logo><img src=/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" sidebarid=quickSidebar href=/quick/install>å¿«é€Ÿå¼€å§‹</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/docs/cli>å¼€å‘æ‰‹å†Œ</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button sidebarid=courseSidebar href=/course>ç¤¾åŒºæ•™ç¨‹</a><ul class=dropdown__menu><li><a class=dropdown__link sidebarid=courseSidebar href=/course/bilibili-video>è§†é¢‘å…¥é—¨æ•™ç¨‹</a><li><a class=dropdown__link sidebarid=courseStarBookSidebar href=/course/starbook>å®æˆ˜æ•™ç¨‹-æ˜Ÿè¾°è‹±è¯­æœ¬</a></ul></div><a class="navbar__item navbar__link" href=/showcase>æ¡ˆä¾‹å±•ç¤º</a><a class="navbar__item navbar__link" href=/2.7.x/release/note>å‘å¸ƒè®°å½•</a><a class="navbar__item navbar__link" sidebarid=communitySidebar href=/share/group>å¼€æºç¤¾åŒº</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/2.7.x/docs/web/senior-pprof>2.7.x</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/web/senior-pprof>2.8.x(Latest)</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/2.7.x/docs/web/senior-pprof>2.7.x</a><li><a class=dropdown__link href=/2.6.x/é¡¹ç›®å¼€å‘>2.6.x</a><li><a class=dropdown__link href=/2.5.x/é¡¹ç›®å¼€å‘>2.5.x</a><li><a class=dropdown__link href=/2.4.x/å¼€å‘å·¥å…·>2.4.x</a><li><a class=dropdown__link href=/2.3.x/å¼€å‘å·¥å…·>2.3.x</a><li><a class=dropdown__link href=/2.2.x/å¼€å‘å·¥å…·>2.2.x</a><li><a class=dropdown__link href=/2.1.x/å¼€å‘å·¥å…·>2.1.x</a><li><a class=dropdown__link href=/2.0.x/å¼€å‘å·¥å…·>2.0.x</a><li><a class=dropdown__link href=/1.16.x/å¼€å‘å·¥å…·>1.16.x</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>ç®€ä½“ä¸­æ–‡</a><ul class=dropdown__menu><li><a href=/2.7.x/docs/web/senior-pprof rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=zh-Hans>ç®€ä½“ä¸­æ–‡</a><li><a href=/en/2.7.x/docs/web/senior-pprof rel="noopener noreferrer" class=dropdown__link lang=en-US>English</a></ul></div><a href=https://github.com/gogf/gf target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="æœç´¢ (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>æœç´¢</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label=å›åˆ°é¡¶éƒ¨ class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label=æ–‡æ¡£ä¾§è¾¹æ  class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/design>æ¡†æ¶è®¾è®¡</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ¡†æ¶è®¾è®¡'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/cli>å¼€å‘å·¥å…·</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'å¼€å‘å·¥å…·'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/core>æ ¸å¿ƒç»„ä»¶(ğŸ”¥é‡ç‚¹ğŸ”¥)</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ ¸å¿ƒç»„ä»¶(ğŸ”¥é‡ç‚¹ğŸ”¥)'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/components>ç»„ä»¶åˆ—è¡¨</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'ç»„ä»¶åˆ—è¡¨'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/micro-service>å¾®æœåŠ¡å¼€å‘</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'å¾®æœåŠ¡å¼€å‘'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/2.7.x/docs/web>WEBæœåŠ¡å¼€å‘</a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» 'WEBæœåŠ¡å¼€å‘'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/start>å¼€å§‹ä½¿ç”¨</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/router>è·¯ç”±ç®¡ç†ğŸ”¥</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'è·¯ç”±ç®¡ç†ğŸ”¥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/api-document>æ¥å£æ–‡æ¡£</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ¥å£æ–‡æ¡£'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/request>è¯·æ±‚è¾“å…¥ğŸ”¥</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'è¯·æ±‚è¾“å…¥ğŸ”¥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/response>æ•°æ®è¿”å›</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æ•°æ®è¿”å›'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/server-config>æœåŠ¡é…ç½®</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æœåŠ¡é…ç½®'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/cookie>Cookie</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/session>Session</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'Session'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/panic-handling>å¼‚å¸¸å¤„ç†</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/http-client>HTTPClient</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'HTTPClient'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/2.7.x/docs/web/paging>åˆ†é¡µç®¡ç†</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'åˆ†é¡µç®¡ç†'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/2.7.x/docs/web/senior>é«˜çº§ç‰¹æ€§</a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» 'é«˜çº§ç‰¹æ€§'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-static-server>é™æ€æ–‡ä»¶æœåŠ¡</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-logging>æœåŠ¡æ—¥å¿—ç®¡ç†</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-https>HTTPS & TLS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-hot-reload>å¹³æ»‘é‡å¯ç‰¹æ€§</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-cors>CORSè·¨åŸŸå¤„ç†</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-csrf>CSRFé˜²å¾¡è®¾ç½®</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-hook>HOOKäº‹ä»¶å›è°ƒ</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-websocket>WebSocketæœåŠ¡</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-status-handler>è‡ªå®šä¹‰çŠ¶æ€ç å¤„ç†</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/2.7.x/docs/web/senior-pprof>PProfæœåŠ¡æ€§èƒ½åˆ†æ</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-same-site>SameSiteè®¾ç½®</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/senior-server-metrics>HTTPServer-ç›‘æ§æŒ‡æ ‡</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/performance>æ€§èƒ½æµ‹è¯•</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/2.7.x/docs/web/faq>å¸¸è§é—®é¢˜</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/network>ç½‘ç»œæœåŠ¡å¼€å‘</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'ç½‘ç»œæœåŠ¡å¼€å‘'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/obs>æœåŠ¡å¯è§‚æµ‹æ€§</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'æœåŠ¡å¯è§‚æµ‹æ€§'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/2.7.x/docs/faq>å¸¸è§é—®é¢˜(FAQ)</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/deploy>é¡¹ç›®éƒ¨ç½²</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'é¡¹ç›®éƒ¨ç½²'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/2.7.x/docs/other>å…¶ä»–èµ„æ–™</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» 'å…¶ä»–èµ„æ–™'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>æ­¤ä¸º <!-- -->GoFrameå®˜ç½‘ - ç±»ä¼¼PHP-Laravel,Java-SpringBootçš„Goä¼ä¸šçº§å¼€å‘æ¡†æ¶<!-- --> <b>2.7.x</b> ç‰ˆçš„æ–‡æ¡£ï¼Œç°å·²ä¸å†ç§¯æç»´æŠ¤ã€‚</div><div class=margin-top--md>æœ€æ–°çš„æ–‡æ¡£è¯·å‚é˜… <b><a href=/docs/web/senior-pprof>æœ€æ–°ç‰ˆæœ¬</a></b> (<!-- -->2.8.x(Latest)<!-- -->)ã€‚</div></div><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=é¡µé¢è·¯å¾„><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label=ä¸»é¡µé¢ class=breadcrumbs__link href=/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/2.7.x/docs/web><span itemprop=name>WEBæœåŠ¡å¼€å‘</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/2.7.x/docs/web/senior><span itemprop=name>é«˜çº§ç‰¹æ€§</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>PProfæœåŠ¡æ€§èƒ½åˆ†æ</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">ç‰ˆæœ¬ï¼š2.7.x</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><p><code>GoFrame</code> æ¡†æ¶çš„ <code>Web Server</code> æä¾›äº†éå¸¸å¼ºå¤§å’Œç®€ä¾¿çš„æœåŠ¡æ€§èƒ½åˆ†æåŠŸèƒ½ï¼Œå†…éƒ¨å®Œç¾é›†æˆäº† <code>pprof</code> æ€§èƒ½åˆ†æå·¥å…·ï¼Œå¯ä»¥åœ¨ä»»ä½•æ—¶å€™é€šè¿‡ <code>EnablePProf</code> æ–¹æ³•å¯ç”¨æ€§èƒ½åˆ†æç‰¹æ€§ï¼Œå¹¶å¯è‡ªå®šä¹‰æ€§èƒ½åˆ†æå·¥å…·é¡µé¢è·¯ç”±åœ°å€ï¼Œä¸ä¼ é€’è·¯ç”±åœ°å€æ—¶ï¼Œé»˜è®¤URIåœ°å€ä¸º <code>/debug/pprof</code>ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=pprof-å¯ç”¨><code>PProf</code> å¯ç”¨<a href=#pprof-å¯ç”¨ class=hash-link aria-label=pprof-å¯ç”¨çš„ç›´æ¥é“¾æ¥ title=pprof-å¯ç”¨çš„ç›´æ¥é“¾æ¥>â€‹</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>æ³¨æ„</div><div class=admonitionContent_BuS1><p><code>PProf</code> ç‰¹æ€§çš„å¯ç”¨ä¼šå¯¹ç¨‹åºæ€§èƒ½äº§ç”Ÿä¸€å®šå½±å“ï¼Œå…·ä½“å½±å“ç¨‹åº¦éœ€è¦æ ¹æ®å½“å‰ä¸šåŠ¡åœºæ™¯åœ¨ <code>PProd</code> å¯ç”¨å‰åè¿›è¡Œå¯¹æ¯”ã€‚</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=enablepprof><code>EnablePProf</code><a href=#enablepprof class=hash-link aria-label=enablepprofçš„ç›´æ¥é“¾æ¥ title=enablepprofçš„ç›´æ¥é“¾æ¥>â€‹</a></h3>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/frame/g"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"runtime"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    runtime</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetMutexProfileFraction</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token comment" style=color:#8292a2;font-style:italic>// (éå¿…éœ€)å¼€å¯å¯¹é”è°ƒç”¨çš„è·Ÿè¸ª</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    runtime</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetBlockProfileRate</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain">     </span><span class="token comment" style=color:#8292a2;font-style:italic>// (éå¿…éœ€)å¼€å¯å¯¹é˜»å¡æ“ä½œçš„è·Ÿè¸ª</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s </span><span class="token operator" style=color:#66d9ef>:=</span><span class="token plain"> g</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Server</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>EnablePProf</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>BindHandler</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#66d9ef>func</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">r </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Request</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        r</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Response</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Writeln</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"å“ˆå–½ä¸–ç•Œï¼"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8199</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Run</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>è¿™ä¸ªä¾‹å­ä½¿ç”¨äº† <code>s.EnablePProf()</code> å¯ç”¨äº†æ€§èƒ½åˆ†æï¼Œé»˜è®¤ä¼šè‡ªåŠ¨æ³¨å†Œä»¥ä¸‹å‡ ä¸ªè·¯ç”±è§„åˆ™ï¼š</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-html codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">/debug/pprof/*action</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">/debug/pprof/cmdline</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">/debug/pprof/profile</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">/debug/pprof/symbol</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">/debug/pprof/trace</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>å…¶ä¸­ <code>/debug/pprof/*action</code> ä¸ºé¡µé¢è®¿é—®çš„è·¯ç”±ï¼Œå…¶ä»–å‡ ä¸ªåœ°å€ä¸º <code>go tool pprof</code> å‘½ä»¤å‡†å¤‡çš„ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=startpprofserver><code>StartPProfServer</code><a href=#startpprofserver class=hash-link aria-label=startpprofserverçš„ç›´æ¥é“¾æ¥ title=startpprofserverçš„ç›´æ¥é“¾æ¥>â€‹</a></h3>
<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>StartPProfServer</code> æ–¹æ³•ï¼Œå¿«é€Ÿå¼€å¯ä¸€ä¸ªç‹¬ç«‹çš„ <code>PProf Server</code>ï¼Œå¸¸ç”¨äºä¸€äº›æ²¡æœ‰ <code>HTTP Server</code> çš„å¸¸é©»çš„è¿›ç¨‹ä¸­ï¼ˆä¾‹å¦‚å®šæ—¶ä»»åŠ¡ã€ <code>GRPC</code> æœåŠ¡ä¸­ï¼‰ï¼Œå¯ä»¥å¿«é€Ÿå¼€å¯ä¸€ä¸ª <code>PProf Server</code> ç”¨äºç¨‹åºæ€§èƒ½åˆ†æã€‚è¯¥æ–¹æ³•çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>StartPProfServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">port </span><span class="token builtin" style=color:#e6db74>int</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> pattern </span><span class="token operator" style=color:#66d9ef>...</span><span class="token builtin" style=color:#e6db74>string</span><span class="token punctuation" style=color:#f8f8f2>)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>ä¸€èˆ¬çš„åœºæ™¯æ˜¯ä½¿ç”¨å¼‚æ­¥ <code>goroutine</code> è¿è¡Œè¯¥ <code>PProd Server</code>ï¼Œå³å¾€å¾€æ˜¯è¿™ä¹ˆæ¥ä½¿ç”¨ï¼š</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token keyword" style=color:#66d9ef>go</span><span class="token plain"> ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>StartPProfServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8199</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#8292a2;font-style:italic>// å…¶ä»–æœåŠ¡å¯åŠ¨ã€è¿è¡Œ</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token comment" style=color:#8292a2;font-style:italic>// ...</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>ä»¥ä¸Šç¤ºä¾‹å¯ä»¥æ”¹è¿›ä¸ºï¼š</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/frame/g"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token keyword" style=color:#66d9ef>go</span><span class="token plain"> ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>StartPProfServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8299</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s </span><span class="token operator" style=color:#66d9ef>:=</span><span class="token plain"> g</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Server</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>EnablePProf</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>BindHandler</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#66d9ef>func</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">r </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Request</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        r</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Response</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Writeln</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"å“ˆå–½ä¸–ç•Œï¼"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8199</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Run</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=pprof-æŒ‡æ ‡><code>PProf</code> æŒ‡æ ‡<a href=#pprof-æŒ‡æ ‡ class=hash-link aria-label=pprof-æŒ‡æ ‡çš„ç›´æ¥é“¾æ¥ title=pprof-æŒ‡æ ‡çš„ç›´æ¥é“¾æ¥>â€‹</a></h2>
<ul>
<li><code>heap</code>: æŠ¥å‘Šå†…å­˜åˆ†é…æ ·æœ¬ï¼›ç”¨äºç›‘è§†å½“å‰å’Œå†å²å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œå¹¶æ£€æŸ¥å†…å­˜æ³„æ¼ã€‚</li>
<li><code>threadcreate</code>: æŠ¥å‘Šäº†å¯¼è‡´åˆ›å»ºæ–°OSçº¿ç¨‹çš„ç¨‹åºéƒ¨åˆ†ã€‚</li>
<li><code>goroutine</code>: æŠ¥å‘Šæ‰€æœ‰å½“å‰ <code>goroutine</code> çš„å †æ ˆè·Ÿè¸ªã€‚</li>
<li><code>block</code>: æ˜¾ç¤º <code>goroutine</code> åœ¨å“ªé‡Œé˜»å¡åŒæ­¥åŸè¯­ï¼ˆåŒ…æ‹¬è®¡æ—¶å™¨é€šé“ï¼‰çš„ç­‰å¾…ã€‚é»˜è®¤æƒ…å†µä¸‹æœªå¯ç”¨ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ <code>runtime.SetBlockProfileRate</code> å¯ç”¨ã€‚</li>
<li><code>mutex</code>: æŠ¥å‘Šé”ç«äº‰ã€‚é»˜è®¤æƒ…å†µä¸‹æœªå¯ç”¨ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒç”¨ <code>runtime.SetMutexProfileFraction</code> å¯ç”¨ã€‚</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=pprof-é¡µé¢><code>PProf</code> é¡µé¢<a href=#pprof-é¡µé¢ class=hash-link aria-label=pprof-é¡µé¢çš„ç›´æ¥é“¾æ¥ title=pprof-é¡µé¢çš„ç›´æ¥é“¾æ¥>â€‹</a></h2>
<p>ç®€å•çš„æ€§èƒ½åˆ†ææˆ‘ä»¬ç›´æ¥è®¿é—® <code>/debug/pprof</code> åœ°å€å³å¯ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p>1ã€ <code>pprof</code> é¡µé¢</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=389 height=252 class=img_ev3q></p>
<p>2ã€å †ä½¿ç”¨é‡</p>
<p><img decoding=async loading=lazy src=/assets/images/990043747df320652c2ab0944f259f73-761ef5610b70d9606c2b3af927da6fcc.png width=1000 height=521 class=img_ev3q></p>
<p>3ã€å½“å‰è¿›ç¨‹ä¸­çš„ <code>goroutine</code> è¯¦æƒ…</p>
<p><img decoding=async loading=lazy src=/assets/images/4aad1989545e9fe67cf46de3b06686aa-7022a469373d941eaa2919880d0b2208.png width=1000 height=473 class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=æ€§èƒ½é‡‡é›†åˆ†æ>æ€§èƒ½é‡‡é›†åˆ†æğŸ”¥<a href=#æ€§èƒ½é‡‡é›†åˆ†æ class=hash-link aria-label=æ€§èƒ½é‡‡é›†åˆ†æğŸ”¥çš„ç›´æ¥é“¾æ¥ title=æ€§èƒ½é‡‡é›†åˆ†æğŸ”¥çš„ç›´æ¥é“¾æ¥>â€‹</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>æç¤º</div><div class=admonitionContent_BuS1><p>ä»¥ä¸‹ç¤ºä¾‹æˆªå›¾æ¥æºäºç¤ºä¾‹é¡¹ç›®ï¼Œä»…ä¾›å‚è€ƒã€‚</div></div>
<p>å¦‚æœæƒ³è¦è¿›è¡Œè¯¦ç»†çš„æ€§èƒ½åˆ†æï¼ŒåŸºæœ¬ä¸Šç¦»ä¸å¼€ <code>go tool pprof</code> å‘½ä»¤è¡Œå·¥å…·çš„æ”¯æŒï¼Œåœ¨å¼€å¯æ€§èƒ½åˆ†ææ”¯æŒåï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ‰§è¡Œæ€§èƒ½é‡‡é›†åˆ†æï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">go tool pprof </span><span class="token parameter variable" style=color:#f8f8f2>-http</span><span class="token plain"> :8080 </span><span class="token string" style=color:#a6e22e>"http://127.0.0.1:8199/debug/pprof/profile"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>ä¹Ÿå¯ä»¥å°†pprofæ–‡ä»¶å¯¼å‡ºåå†é€šè¿‡go tool pprofå‘½ä»¤æ‰“å¼€ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token function" style=color:#e6db74>curl</span><span class="token plain"> http://127.0.0.1:8199/debug/pprof/profile </span><span class="token operator" style=color:#66d9ef>></span><span class="token plain"> pprof.profile</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">go tool pprof </span><span class="token parameter variable" style=color:#f8f8f2>-http</span><span class="token plain"> :8080 pprof.profile</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>æ‰§è¡Œå <code>profile</code> çš„ <code>pprof</code> å·¥å…·ç»è¿‡çº¦ <code>30</code> ç§’å·¦å³çš„æ¥å£ä¿¡æ¯é‡‡é›†ï¼ˆè¿™ <code>30</code> ç§’æœŸé—´ <code>WebServer</code> åº”å½“æœ‰æµé‡è¿›å…¥ï¼‰ï¼Œç„¶åç”Ÿæˆæ€§èƒ½åˆ†ææŠ¥å‘Šï¼Œéšåå¯ä»¥é€šè¿‡ <code>top10</code>/ <code>web</code> ç­‰ <code>pprof</code> å‘½ä»¤æŸ¥çœ‹æŠ¥å‘Šç»“æœï¼Œæ›´å¤šå‘½ä»¤å¯ä½¿ç”¨ <code>go tool pprof</code> æŸ¥çœ‹ã€‚å…³äº <code>pprof</code> çš„è¯¦ç»†ä½¿ç”¨ä»‹ç»ï¼Œè¯·æŸ¥çœ‹ <code>Golang</code> å®˜æ–¹ï¼š <a href=https://blog.golang.org/profiling-go-programs target=_blank rel="noopener noreferrer">blog.golang.org/profiling-go-programs</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=cpuæ€§èƒ½åˆ†æ>CPUæ€§èƒ½åˆ†æ<a href=#cpuæ€§èƒ½åˆ†æ class=hash-link aria-label=CPUæ€§èƒ½åˆ†æçš„ç›´æ¥é“¾æ¥ title=CPUæ€§èƒ½åˆ†æçš„ç›´æ¥é“¾æ¥>â€‹</a></h3>
<p>æœ¬ç¤ºä¾‹ä¸­çš„å‘½ä»¤è¡Œæ€§èƒ½åˆ†æç»“æœå¦‚ä¸‹ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ go tool pprof </span><span class="token parameter variable" style=color:#f8f8f2>-http</span><span class="token plain"> :8080 </span><span class="token string" style=color:#a6e22e>"http://127.0.0.1:8199/debug/pprof/profile"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Serving web UI on http://localhost:8080</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>æç¤º</div><div class=admonitionContent_BuS1><p>å›¾å½¢åŒ–å±•ç¤º <code>pprof</code> éœ€è¦å®‰è£… <code>Graphviz</code> å›¾å½¢åŒ–å·¥å…·ï¼Œä»¥æˆ‘ç›®å‰çš„ç³»ç»Ÿä¸º <code>Ubuntu</code> ä¸ºä¾‹ï¼Œç›´æ¥æ‰§è¡Œ <code>sudo apt-get install graphviz</code> å‘½ä»¤å³å¯å®‰è£…å®Œæˆå›¾å½¢åŒ–å·¥å…·ï¼ˆå¦‚æœæ˜¯ <code>MacOS</code>ï¼Œä½¿ç”¨ <code>brew install Graphviz</code> å®‰è£…ï¼‰ã€‚</div></div>
<p>è¿è¡Œåå°†ä¼šä½¿ç”¨é»˜è®¤çš„æµè§ˆå™¨æ‰“å¼€ä»¥ä¸‹å›¾å½¢ç•Œé¢ï¼Œå±•ç¤ºè¿™æ®µæ—¶é—´æŠ“å–çš„CPUå¼€é”€é“¾è·¯ï¼š</p>
<p><img decoding=async loading=lazy src=/assets/images/56387af30ed4e111df652c5918f36313-1e1464e580139e1f73d3f5767a289e7b.png width=3454 height=1854 class=img_ev3q></p>
<p>ä¹Ÿå¯ä»¥æŸ¥çœ‹ç«ç‚¬å›¾ï¼Œå¯èƒ½æ›´å½¢è±¡ä¸€äº›ï¼š</p>
<p><img decoding=async loading=lazy src=/assets/images/69a078ee228fa5ae63e91ea8bd45b6db-a2ac2242284aea23d03782ff95610d8d.png width=3454 height=1168 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=å†…å­˜ä½¿ç”¨åˆ†æ>å†…å­˜ä½¿ç”¨åˆ†æ<a href=#å†…å­˜ä½¿ç”¨åˆ†æ class=hash-link aria-label=å†…å­˜ä½¿ç”¨åˆ†æçš„ç›´æ¥é“¾æ¥ title=å†…å­˜ä½¿ç”¨åˆ†æçš„ç›´æ¥é“¾æ¥>â€‹</a></h3>
<p>ä¸ <code>CPU</code> æ€§èƒ½åˆ†æç±»ä¼¼ï¼Œå†…å­˜ä½¿ç”¨åˆ†æåŒæ ·ä½¿ç”¨åˆ° <code>go tool pprof</code> å‘½ä»¤ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ go tool pprof </span><span class="token parameter variable" style=color:#f8f8f2>-http</span><span class="token plain"> :8080 </span><span class="token string" style=color:#a6e22e>"http://127.0.0.1:8199/debug/pprof/heap"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Serving web UI on http://localhost:8080</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>å›¾å½¢å±•ç¤ºç±»ä¼¼è¿™æ ·çš„ï¼š</p>
<p><img decoding=async loading=lazy src=/assets/images/3740981520744e6a3831ba5f2c811e23-106e5055d34c120f2b335ea3aba40314.png width=3454 height=1820 class=img_ev3q></p>
<p>åŒæ ·çš„ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹ç«ç‚¬å›¾ï¼Œå¯èƒ½æ›´å½¢è±¡ä¸€äº›ï¼š</p>
<p><img decoding=async loading=lazy src=/assets/images/8f5ef1007b9eaddab88adadfff9f6101-e77077195fa46dbde29702f9daf7868f.png width=3454 height=1010 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=goroutineä½¿ç”¨åˆ†æ>goroutineä½¿ç”¨åˆ†æ<a href=#goroutineä½¿ç”¨åˆ†æ class=hash-link aria-label=goroutineä½¿ç”¨åˆ†æçš„ç›´æ¥é“¾æ¥ title=goroutineä½¿ç”¨åˆ†æçš„ç›´æ¥é“¾æ¥>â€‹</a></h3>
<p>ä¸ä¸Šé¢çš„åˆ†æç±»ä¼¼ï¼Œ <code>goroutine</code> ä½¿ç”¨åˆ†æåŒæ ·ä½¿ç”¨åˆ° <code>go tool pprof</code> å‘½ä»¤ï¼š</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ go tool pprof </span><span class="token parameter variable" style=color:#f8f8f2>-http</span><span class="token plain"> :8080 </span><span class="token string" style=color:#a6e22e>"http://127.0.0.1:8199/debug/pprof/goroutine"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Serving web UI on http://localhost:8080</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label=å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿ title=å¤åˆ¶ class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>å›¾å½¢å±•ç¤ºç±»ä¼¼è¿™æ ·çš„ï¼Œé€šå¸¸ <code>goroutine</code> çœ‹è¿™ä¸ªå›¾çš„è¯å°±å·®ä¸å¤šäº†ï¼Œå½“ç„¶ä¹Ÿæœ‰ç«ç‚¬å›¾ã€‚</p>
<p><img decoding=async loading=lazy src=/assets/images/adbc81d2a903ede5454eeb85c2ca5743-b93888a4701c77c59047144100f555d8.png width=3454 height=1818 class=img_ev3q></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.7.x/docs/WEBæœåŠ¡å¼€å‘/é«˜çº§ç‰¹æ€§/PProfæœåŠ¡æ€§èƒ½åˆ†æ.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>ç¼–è¾‘æ­¤é¡µ</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>æœ€å<!-- -->ç”± <b>John</b> <!-- -->äº <b><time datetime=2024-11-13T13:23:30.000Z itemprop=dateModified>2024å¹´11æœˆ13æ—¥</time></b> <!-- -->æ›´æ–°</span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label=æ–‡ä»¶é€‰é¡¹å¡><a class="pagination-nav__link pagination-nav__link--prev" href=/2.7.x/docs/web/senior-status-handler><div class=pagination-nav__sublabel>ä¸Šä¸€é¡µ</div><div class=pagination-nav__label>è‡ªå®šä¹‰çŠ¶æ€ç å¤„ç†</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/2.7.x/docs/web/senior-same-site><div class=pagination-nav__sublabel>ä¸‹ä¸€é¡µ</div><div class=pagination-nav__label>SameSiteè®¾ç½®</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#pprof-å¯ç”¨ class="table-of-contents__link toc-highlight"><code>PProf</code> å¯ç”¨</a><ul><li><a href=#enablepprof class="table-of-contents__link toc-highlight"><code>EnablePProf</code></a><li><a href=#startpprofserver class="table-of-contents__link toc-highlight"><code>StartPProfServer</code></a></ul><li><a href=#pprof-æŒ‡æ ‡ class="table-of-contents__link toc-highlight"><code>PProf</code> æŒ‡æ ‡</a><li><a href=#pprof-é¡µé¢ class="table-of-contents__link toc-highlight"><code>PProf</code> é¡µé¢</a><li><a href=#æ€§èƒ½é‡‡é›†åˆ†æ class="table-of-contents__link toc-highlight">æ€§èƒ½é‡‡é›†åˆ†æğŸ”¥</a><ul><li><a href=#cpuæ€§èƒ½åˆ†æ class="table-of-contents__link toc-highlight">CPUæ€§èƒ½åˆ†æ</a><li><a href=#å†…å­˜ä½¿ç”¨åˆ†æ class="table-of-contents__link toc-highlight">å†…å­˜ä½¿ç”¨åˆ†æ</a><li><a href=#goroutineä½¿ç”¨åˆ†æ class="table-of-contents__link toc-highlight">goroutineä½¿ç”¨åˆ†æ</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="footer__bottom text--center"><div class=footer__copyright>Copyright Â©2024 GoFrame OpenSource Team</div></div></div></footer></div>