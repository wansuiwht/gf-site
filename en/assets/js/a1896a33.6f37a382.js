"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["65968"],{793810:function(e,r,a){a.r(r),a.d(r,{metadata:()=>n,contentTitle:()=>d,default:()=>h,assets:()=>o,toc:()=>m,frontMatter:()=>i});var n=JSON.parse('{"id":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u8BF7\u6C42\u8F93\u5165/\u8BF7\u6C42\u8F93\u5165-\u590D\u6742\u53C2\u6570","title":"Request - Complex Parameters","description":"In applications built with the GoFrame framework, complex parameter transmission is achieved through Query or Form parameters. The document details the submission formats and server-side parsing methods for parameters with the same name, array parameters, and Map parameters, along with code examples. It is recommended to manage and maintain complex parameter transmission using JSON data encoding whenever possible.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/WEB\u670D\u52A1\u5F00\u53D1/\u8BF7\u6C42\u8F93\u5165/\u8BF7\u6C42\u8F93\u5165-\u590D\u6742\u53C2\u6570.md","sourceDirName":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u8BF7\u6C42\u8F93\u5165","slug":"/docs/web/request-complicated-parameters","permalink":"/en/docs/web/request-complicated-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/WEB\u670D\u52A1\u5F00\u53D1/\u8BF7\u6C42\u8F93\u5165/\u8BF7\u6C42\u8F93\u5165-\u590D\u6742\u53C2\u6570.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":0,"frontMatter":{"slug":"/docs/web/request-complicated-parameters","title":"Request - Complex Parameters","sidebar_position":0,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","Complex Parameters","Request Input","Query Parameters","Form Parameters","JSON Data","HTTP Server","Array Parameters","Map Parameters"],"description":"In applications built with the GoFrame framework, complex parameter transmission is achieved through Query or Form parameters. The document details the submission formats and server-side parsing methods for parameters with the same name, array parameters, and Map parameters, along with code examples. It is recommended to manage and maintain complex parameter transmission using JSON data encoding whenever possible."},"sidebar":"mainSidebar","previous":{"title":"Request \uD83D\uDD25","permalink":"/en/docs/web/request"},"next":{"title":"Request - Parameter Binding","permalink":"/en/docs/web/request-struct-converting"}}'),t=a("785893"),s=a("250065");let i={slug:"/docs/web/request-complicated-parameters",title:"Request - Complex Parameters",sidebar_position:0,hide_title:!0,keywords:["GoFrame","GoFrame Framework","Complex Parameters","Request Input","Query Parameters","Form Parameters","JSON Data","HTTP Server","Array Parameters","Map Parameters"],description:"In applications built with the GoFrame framework, complex parameter transmission is achieved through Query or Form parameters. The document details the submission formats and server-side parsing methods for parameters with the same name, array parameters, and Map parameters, along with code examples. It is recommended to manage and maintain complex parameter transmission using JSON data encoding whenever possible."},d=void 0,o={},m=[{value:"Complex Parameters",id:"complex-parameters",level:2},{value:"Parameters with the Same Name",id:"parameters-with-the-same-name",level:2},{value:"Array Parameters",id:"array-parameters",level:2},{value:"<code>Map</code> Parameters",id:"map-parameters",level:2}];function c(e){let r={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.p,{children:["The complex parameters in this chapter are aimed at traditional ",(0,t.jsx)(r.code,{children:"Query"})," or ",(0,t.jsx)(r.code,{children:"Form"})," parameter transmission. As these methods are not elegantly managed and maintained for complex parameters, we recommend using ",(0,t.jsx)(r.code,{children:"JSON"})," data encoding for management and maintenance whenever encountering complex parameter transmission scenarios."]})}),"\n",(0,t.jsx)(r.h2,{id:"complex-parameters",children:"Complex Parameters"}),"\n",(0,t.jsxs)(r.p,{children:["The ",(0,t.jsx)(r.code,{children:"ghttp.Request"})," object supports intelligent parameter type parsing (irrespective of request submission method and type). Below are examples of submitted parameters and the corresponding server-side variable types:"]}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Parameter"}),(0,t.jsx)(r.th,{children:"Variable"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k=m&k=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k:n]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k1=m&k2=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k1:m k2:n]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k[]=m&k[]=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k:[m n]]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k[a][]=m&k[a][]=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k:map[a:[m n]]]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k[a]=m&k[b]=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k:map[a:m b:n]]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k[a][a]=m&k[a][b]=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"map[k:map[a:map[a:m b:n]]]"})})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"k=m&k[a]=n"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"error"})})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"parameters-with-the-same-name",children:"Parameters with the Same Name"}),"\n",(0,t.jsxs)(r.p,{children:["Parameters with the same name are submitted in the format: ",(0,t.jsx)(r.code,{children:"k=v1&k=v2"}),", and subsequent variable values will overwrite the previous ones."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request) {\n        r.Response.Write(r.Get("name"))\n    })\n    s.SetPort(8199)\n    s.Run()\n}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["After execution, when accessing ",(0,t.jsx)(r.a,{href:"http://127.0.0.1:8199/?name=john&name=smith",children:"http://127.0.0.1:8199/?name=john&name=smith"}),", the returned value will be ",(0,t.jsx)(r.code,{children:"smith"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Note: The ",(0,t.jsx)(r.code,{children:"HTTP Server"})," of the framework handles this similarly to ",(0,t.jsx)(r.code,{children:"PHP"}),", which is different from the ",(0,t.jsx)(r.code,{children:"Go"})," standard library. In the ",(0,t.jsx)(r.code,{children:"Go"})," standard library ",(0,t.jsx)(r.code,{children:"net/http"}),", the submitted parameters with the same name will be converted into a string array."]}),"\n",(0,t.jsx)(r.h2,{id:"array-parameters",children:"Array Parameters"}),"\n",(0,t.jsxs)(r.p,{children:["Array parameters are submitted in the format: ",(0,t.jsx)(r.code,{children:"k[]=v1&k[]=v2"}),", using empty brackets ",(0,t.jsx)(r.code,{children:"[]"})," to denote array parameters."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request) {\n        r.Response.Write(r.Get("array"))\n    })\n    s.SetPort(8199)\n    s.Run()\n}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["After execution, when accessing ",(0,t.jsx)(r.a,{href:"http://127.0.0.1:8199/?array%5B%5D=john&array%5B%5D=smith",children:"http://127.0.0.1:8199/?array[]=john&array[]=smith"}),", the returned value will be ",(0,t.jsx)(r.code,{children:'["john","smith"]'}),"."]}),"\n",(0,t.jsx)(r.admonition,{type:"warning",children:(0,t.jsxs)(r.p,{children:["Note: If the passed parameters contain brackets and ",(0,t.jsx)(r.strong,{children:"index numbers"}),", the parameters will be converted into a ",(0,t.jsx)(r.code,{children:"map"})," according to the previously introduced rules for converting complex parameters. For example, ",(0,t.jsx)(r.code,{children:"array[0]=john&array[1]=smith"})," will be converted to ",(0,t.jsx)(r.code,{children:'map{"0":"john","1":"smith"}'}),"."]})}),"\n",(0,t.jsxs)(r.h2,{id:"map-parameters",children:[(0,t.jsx)(r.code,{children:"Map"})," Parameters"]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"Map"})," parameters are submitted in the format: ",(0,t.jsx)(r.code,{children:"k[a]=m&k[b]=n"}),", and support multi-level ",(0,t.jsx)(r.code,{children:"Map"}),", for example: ",(0,t.jsx)(r.code,{children:"k[a][a]=m&k[a][b]=n"}),"."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request) {\n        r.Response.Write(r.Get("map"))\n    })\n    s.SetPort(8199)\n    s.Run()\n}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["After execution, when accessing ",(0,t.jsx)(r.a,{href:"http://127.0.0.1:8199/?map%5Bid%5D=1&map%5Bname%5D=john",children:"http://127.0.0.1:8199/?map[id]=1&map[name]=john"}),", the returned value will be ",(0,t.jsx)(r.code,{children:'{"id":"1","name":"john"}'}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Let's try a multi-level ",(0,t.jsx)(r.code,{children:"Map"}),". Manually visit the following address:"]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"http://127.0.0.1:8199/?map%5Buser1%5D%5Bid%5D=1&map%5Buser1%5D%5Bname%5D=john&map%5Buser2%5D%5Bid%5D=2&map%5Buser2%5D%5Bname%5D=smith",children:"http://127.0.0.1:8199/?map[user1][id]=1&map[user1][name]=john&map[user2][id]=2&map[user2][name]=smith"})}),"\n",(0,t.jsxs)(r.p,{children:["The returned value will be ",(0,t.jsx)(r.code,{children:'{"user1":{"id":"1","name":"john"},"user2":{"id":"2","name":"smith"}}'}),"."]})]})}function h(e={}){let{wrapper:r}={...(0,s.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},250065:function(e,r,a){a.d(r,{Z:function(){return d},a:function(){return i}});var n=a(667294);let t={},s=n.createContext(t);function i(e){let r=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(s.Provider,{value:r},e.children)}}}]);