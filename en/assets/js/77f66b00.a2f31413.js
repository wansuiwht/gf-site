"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["73910"],{322437:function(e,t,n){n.r(t),n.d(t,{metadata:()=>r,contentTitle:()=>c,default:()=>h,assets:()=>l,toc:()=>d,frontMatter:()=>a});var r=JSON.parse('{"id":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u6570\u636E\u8FD4\u56DE/\u6570\u636E\u8FD4\u56DE","title":"Response","description":"In the GoFrame framework, the HTTP Server\'s data return processing is handled through the ghttp.Response object and its various Write methods. These allow for efficient data output, including JSON and XML format returns, as well as template output. Additionally, the document covers the use of data buffers and setting HTTP header information to help developers better manage HTTP responses.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/WEB\u670D\u52A1\u5F00\u53D1/\u6570\u636E\u8FD4\u56DE/\u6570\u636E\u8FD4\u56DE.md","sourceDirName":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u6570\u636E\u8FD4\u56DE","slug":"/docs/web/response","permalink":"/en/docs/web/response","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/WEB\u670D\u52A1\u5F00\u53D1/\u6570\u636E\u8FD4\u56DE/\u6570\u636E\u8FD4\u56DE.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":4,"frontMatter":{"slug":"/docs/web/response","title":"Response","sidebar_position":4,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","HTTP Server","ghttp.Response","Data Return","Buffer Mechanism","Write Method","WriteJson","WriteTpl","Header Operations"],"description":"In the GoFrame framework, the HTTP Server\'s data return processing is handled through the ghttp.Response object and its various Write methods. These allow for efficient data output, including JSON and XML format returns, as well as template output. Additionally, the document covers the use of data buffers and setting HTTP header information to help developers better manage HTTP responses."},"sidebar":"mainSidebar","previous":{"title":"Request - File Uploading","permalink":"/en/docs/web/request-file-uploading"},"next":{"title":"Response - Buffering","permalink":"/en/docs/web/response-buffering"}}'),s=n("785893"),o=n("250065"),i=n("203105");let a={slug:"/docs/web/response",title:"Response",sidebar_position:4,hide_title:!0,keywords:["GoFrame","GoFrame Framework","HTTP Server","ghttp.Response","Data Return","Buffer Mechanism","Write Method","WriteJson","WriteTpl","Header Operations"],description:"In the GoFrame framework, the HTTP Server's data return processing is handled through the ghttp.Response object and its various Write methods. These allow for efficient data output, including JSON and XML format returns, as well as template output. Additionally, the document covers the use of data buffers and setting HTTP header information to help developers better manage HTTP responses."},c=void 0,l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Documents",id:"documents",level:2}];function u(e){let t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(t.p,{children:["The data return of the ",(0,s.jsx)(t.code,{children:"HTTP Server"})," is implemented through the ",(0,s.jsx)(t.code,{children:"ghttp.Response"})," object, which implements the standard library's ",(0,s.jsx)(t.code,{children:"http.ResponseWriter"})," API. Data output is achieved using the ",(0,s.jsx)(t.code,{children:"Write*"})," related methods, and the data output utilizes a ",(0,s.jsx)(t.code,{children:"Buffer"})," mechanism, thus the processing efficiency of the data is relatively high. At any time, you can output buffered data to the client and clear buffer data through the ",(0,s.jsx)(t.code,{children:"OutputBuffer"})," method."]}),"\n",(0,s.jsxs)(t.p,{children:["Common methods: For a more detailed list of APIs, please refer to ",(0,s.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp#Response",children:"https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp#Response"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-go",children:"func (r *Response) Write(content ...interface{})\nfunc (r *Response) WriteExit(content ...interface{})\nfunc (r *Response) WriteJson(content interface{}) error\nfunc (r *Response) WriteJsonExit(content interface{}) error\nfunc (r *Response) WriteJsonP(content interface{}) error\nfunc (r *Response) WriteJsonPExit(content interface{}) error\nfunc (r *Response) WriteOver(content ...interface{})\nfunc (r *Response) WriteOverExit(content ...interface{})\nfunc (r *Response) WriteStatus(status int, content ...interface{})\nfunc (r *Response) WriteStatusExit(status int, content ...interface{})\nfunc (r *Response) WriteTpl(tpl string, params ...gview.Params) error\nfunc (r *Response) WriteTplContent(content string, params ...gview.Params) error\nfunc (r *Response) WriteTplDefault(params ...gview.Params) error\nfunc (r *Response) WriteXml(content interface{}, rootTag ...string) error\nfunc (r *Response) WriteXmlExit(content interface{}, rootTag ...string) error\nfunc (r *Response) Writef(format string, params ...interface{})\nfunc (r *Response) WritefExit(format string, params ...interface{})\nfunc (r *Response) Writefln(format string, params ...interface{})\nfunc (r *Response) WriteflnExit(format string, params ...interface{})\nfunc (r *Response) Writeln(content ...interface{})\nfunc (r *Response) WritelnExit(content ...interface{})\n"})}),"\n",(0,s.jsx)(t.p,{children:"Brief Explanation:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"Write*"})," methods are used to append data to the return data buffer. The parameters can be of any data format, and they are automatically analyzed through assertions."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"Write*Exit"})," methods append data to the return data buffer and then exit the currently executing ",(0,s.jsx)(t.code,{children:"HTTP Handler"})," method, which can be used as an alternative to the ",(0,s.jsx)(t.code,{children:"return"})," method."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"WriteOver*"})," methods are used for buffer overwrite, and the original buffer data will be overwritten with the newly written data."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"WriteStatus*"})," methods are used to set the status code for the current request execution return."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"WriteJson*"}),"/ ",(0,s.jsx)(t.code,{children:"WriteXml"})," methods are used for specific data format output, providing a convenient method for developers."]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"WriteTpl*"})," methods are used for template output, parsing and outputting template files, or parsing and outputting the given template content directly."]}),"\n",(0,s.jsx)(t.li,{children:"For other methods, see the API documentation;"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Additionally, it is worth mentioning that ",(0,s.jsx)(t.code,{children:"Header"})," operations can be implemented using standard library methods, for example:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'Response.Header().Set("Content-Type", "text/plain; charset=utf-8")\n'})}),"\n",(0,s.jsx)(t.h2,{id:"documents",children:"Documents"}),"\n","\n",(0,s.jsx)(i.Z,{})]})}function h(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},203105:function(e,t,n){n.d(t,{Z:()=>j});var r=n("785893");n("667294");var s=n("467026"),o=n("698404"),i=n("531183"),a=n("633876"),c=n("266026"),l=n("434751"),d=n("58608");let u={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function h(e){let{href:t,children:n}=e;return(0,r.jsx)(i.Z,{href:t,className:(0,s.Z)("card padding--lg",u.cardContainer),children:n})}function p(e){let{href:t,icon:n,title:o,description:i}=e;return(0,r.jsxs)(h,{href:t,children:[(0,r.jsxs)(d.Z,{as:"h2",className:(0,s.Z)("text--truncate",u.cardTitle),title:o,children:[n," ",o]}),i&&(0,r.jsx)("p",{className:(0,s.Z)("text--truncate",u.cardDescription),title:i,children:i})]})}function f(e){let{item:t}=e,n=(0,o.LM)(t),s=function(){let{selectMessage:e}=(0,a.c)();return t=>e(t,(0,l.I)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return n?(0,r.jsx)(p,{href:n,icon:"\uD83D\uDDC3\uFE0F",title:t.label,description:t.description??s(t.items.length)}):null}function m(e){let{item:t}=e,n=(0,c.Z)(t.href)?"\uD83D\uDCC4\uFE0F":"\uD83D\uDD17",s=(0,o.xz)(t.docId??void 0);return(0,r.jsx)(p,{href:t.href,icon:n,title:t.label,description:t.description??s?.description})}function g(e){let{item:t}=e;switch(t.type){case"link":return(0,r.jsx)(m,{item:t});case"category":return(0,r.jsx)(f,{item:t});default:throw Error(`unknown item type ${JSON.stringify(t)}`)}}function x(e){let{className:t}=e,n=(0,o.jA)();return(0,r.jsx)(j,{items:n.items,className:t})}function j(e){let{items:t,className:n}=e;if(!t)return(0,r.jsx)(x,{...e});let i=(0,o.MN)(t);return(0,r.jsx)("section",{className:(0,s.Z)("row",n),children:i.map((e,t)=>(0,r.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,r.jsx)(g,{item:e})},t))})}},633876:function(e,t,n){n.d(t,{c:function(){return c}});var r=n(667294),s=n(49931);let o=["zero","one","two","few","many","other"];function i(e){return o.filter(t=>e.includes(t))}let a={locale:"en",pluralForms:i(["one","other"]),select:e=>1===e?"one":"other"};function c(){let e=function(){let{i18n:{currentLocale:e}}=(0,s.Z)();return(0,r.useMemo)(()=>{try{return function(e){let t=new Intl.PluralRules(e);return{locale:e,pluralForms:i(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}(e)}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".
Docusaurus will fallback to the default (English) implementation.
Error: ${t.message}
`),a}},[e])}();return{selectMessage:(t,n)=>(function(e,t,n){let r=e.split("|");if(1===r.length)return r[0];r.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${r.length}: ${e}`);let s=n.select(t);return r[Math.min(n.pluralForms.indexOf(s),r.length-1)]})(n,t,e)}}},250065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return i}});var r=n(667294);let s={},o=r.createContext(s);function i(e){let t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);